(this.webpackJsonptuner=this.webpackJsonptuner||[]).push([[0],{22:function(e,t,s){},30:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),r=s(10),n=s.n(r),i=s(5),o=s.n(i),l=s(11),d=s(3),u=(s(22),s.p+"static/media/GuitarHeadTuner.558f62e0.svg"),m=s(0),b=[];["E","A","D","G","B","E1"].forEach((function(e){b.push({id:e,text:e.charAt(0),className1:"strings",className2:"random"})}));var N=b,j=function(e){var t=e.id,s=e.text,a=e.className1,c=e.className2;return Object(m.jsx)("div",{className:a,id:t,children:Object(m.jsx)("div",{className:c,children:s})})},g={text:"Start Tuning!",style:{backgroundImage:"linear-gradient(to left, lightblue, lightgreen)",border:"transparent",height:"100px",width:"300px",fontFamily:'"Source Sans Pro", sans-serif',fontStyle:"normal",fontWeight:"300",fontSize:" 35px",lineHeight:" 35px",textAlign:" center",color:"#5a5a5f",padding:"20px",marginLeft:" 50px",marginRight:" 50px",borderRadius:" 10px",marginTop:"30px"}},x={text:"",style:{border:"0px",height:"0px",width:"0px",fontWeight:0,fontSize:0,lineHeight:0,paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0,borderRadius:0}},f={text:"Start Tuning!",style:{border:"transparent",height:"100px",width:"300px",fontFamily:'"Source Sans Pro", sans-serif',fontStyle:"normal",fontWeight:"300",fontSize:" 35px",lineHeight:" 35px",textAlign:" center",color:"#49494e",padding:"20px",marginLeft:" 50px",marginRight:" 50px",borderRadius:" 10px",cursor:"pointer",animationName:"buttons",animationDuration:".5s",animationIterationCount:"1",marginTop:"30px",backgroundColor:"#fcfcfc"}},v=new(window.AudioContext||window.webkitAudioContext);function D(){var e=Object(a.useState)(g),t=Object(d.a)(e,2),s=t[0],c=t[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"audioStartButton",onClick:function(){c(x),"suspended"===v.state?(v.resume(),console.log("Started reading audio")):console.log("not started")},onMouseLeave:function(){s!==x&&c(g)},onMouseEnter:function(){c(f)},style:s.style,children:s.text})})}var O=s(12),h=[82.41,110,146.83,196,246.94,329.63],p=["E","A","D","G","B","E1"],y=function(e,t){var s,a,c=h.reduce((function(t,s){return Math.abs(s-e)<Math.abs(t-e)?s:t})),r=h.indexOf(c),n=(s=c,a=e,1200*Math.log2(a/s)),i={},o=[],l=p[r];return t>.95&&e>50&&(N.map((function(e){return e.id===l?o.push({id:l,text:l[0],className1:"outer",className2:"activeStrings"}):o.push(e),null})),Math.abs(n)<5?i={instruction:"Congrats \ud83c\udf89",text:"String tuned!",className:"onAudioRight",cents:n}:n<-5?i={instruction:"Tighent the string a bit!",text:"Low",className:"onAudioWrong",cents:n}:n>5&&(i={instruction:"Loosen the string a bit!",text:"High",className:"onAudioWrong",cents:n})),{text:i,string:o,cents:n}},A=[];[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1].forEach((function(e){A.push({id:A.length,value:e,className:"bars".concat(A.length)})}));var k=A;v.suspend();var C=function(){var e=Object(a.useState)({instruction:"",text:"",className:"onNull"}),t=Object(d.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(N),n=Object(d.a)(r,2),i=n[0],b=n[1];Object(a.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);var g=v.createAnalyser();function x(){return(x=Object(l.a)(o.a.mark((function e(){var t,s,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:t=e.sent,v.createMediaStreamSource(t).connect(g),s=O.a.forFloat32Array(g.fftSize),a=new Float32Array(s.inputLength),r=function(){g.getFloatTimeDomainData(a);var e=s.findPitch(a,v.sampleRate),t=Object(d.a)(e,2),r=t[0],n=t[1],i=y(r,n);void 0!==i.text.instruction&&void 0!==i.text.text&&void 0!==i.text.className&&(c({className:i.text.className,text:i.text.text,instruction:i.text.instruction,cents:i.text.cents}),b(i.string))},window.setInterval((function(){return r()}),25);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"Tuner",id:"tuner",children:[Object(m.jsx)("div",{className:"heading",children:"Guitar Tuner"}),Object(m.jsx)(D,{}),i.map((function(e){return Object(m.jsx)(j,{id:e.id,text:e.text,className1:e.className1,className2:e.className2},e.id)})),k.map((function(e){if(Math.abs(s.cents)<=5)return Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#64B936"}});if(s.cents<-5){if(s.cents>-7)return 8===Number(e.id)||9===Number(e.id)?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-37)return e.id>=7&&e.id<=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-67)return Number(e.id)<=9&&Number(e.id)>=6?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-97)return Number(e.id)<=9&&Number(e.id)>=5?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-127)return Number(e.id)<=9&&Number(e.id)>=4?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-157)return Number(e.id)<=9&&Number(e.id)>=3?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-187)return Number(e.id)<=9&&Number(e.id)>=2?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>-217)return Number(e.id)<=9&&Number(e.id)>=1?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<-217)return Number(e.id)<=9&&Number(e.id)>=0?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}})}else if(s.cents>5){if(s.cents<7)return Number(e.id)<=10&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<37)return e.id>=9&&e.id<=11?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<67)return Number(e.id)<=12&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<97)return Number(e.id)<=13&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<127)return Number(e.id)<=14&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<157)return Number(e.id)<=15&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<187)return Number(e.id)<=16&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents<217)return Number(e.id)<=17&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}});if(s.cents>217)return Number(e.id)<=18&&Number(e.id)>=9?Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#E58A8A"}}):Object(m.jsx)("div",{className:e.className,style:{backgroundColor:"#D7D3D3"}})}return null})),Object(m.jsx)("div",{className:s.className,children:s.text}),Object(m.jsx)("div",{className:"onAudioInstruction",children:s.instruction}),Object(m.jsx)("img",{className:"guitarImg",src:u,alt:"Guitar Icon"})]})};n.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.3c5a5f2d.chunk.js.map