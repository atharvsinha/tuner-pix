(this.webpackJsonptuner=this.webpackJsonptuner||[]).push([[0],{22:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(10),c=n.n(s),r=n(5),o=n.n(r),u=n(11),l=n(3),d=(n(22),n.p+"static/media/GuitarHeadTuner.558f62e0.svg"),x=n(0),g=[];["E","A","D","G","B","E1"].forEach((function(t){g.push({id:t,text:t.charAt(0),className1:"strings",className2:"random"})}));var h=g,p=String=function(t){var e=t.id,n=t.text,a=t.className1,i=t.className2;return Object(x.jsx)("div",{className:a,id:e,children:Object(x.jsx)("div",{className:i,children:n})})},m={text:"Start Tuning!",style:{backgroundImage:"linear-gradient(to left, lightblue, lightgreen)",border:"transparent",height:"100px",width:"300px",fontFamily:'"Source Sans Pro", sans-serif',fontStyle:"normal",fontWeight:"300",fontSize:" 35px",lineHeight:" 35px",textAlign:" center",color:"#5a5a5f",padding:"20px",marginLeft:" 50px",marginRight:" 50px",borderRadius:" 10px",marginTop:"30px"}},f={text:"",style:{border:"0px",height:"0px",width:"0px",fontWeight:0,fontSize:0,lineHeight:0,paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0,borderRadius:0}},b={text:"Start Tuning!",style:{border:"transparent",height:"100px",width:"300px",fontFamily:'"Source Sans Pro", sans-serif',fontStyle:"normal",fontWeight:"300",fontSize:" 35px",lineHeight:" 35px",textAlign:" center",color:"#49494e",padding:"20px",marginLeft:" 50px",marginRight:" 50px",borderRadius:" 10px",cursor:"pointer",animationName:"buttons",animationDuration:".5s",animationIterationCount:"1",marginTop:"30px",backgroundColor:"#fcfcfc"}},j=new(window.AudioContext||window.webkitAudioContext);function N(){var t=Object(a.useState)(m),e=Object(l.a)(t,2),n=e[0],i=e[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),r=(c[0],c[1]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("button",{className:"audioStartButton",onClick:function(){i(f),"suspended"===j.state?(j.resume(),console.log("Started reading audio")):console.log("not started"),r("Pluck a string!")},onMouseLeave:function(){n!==f&&i(m)},onMouseEnter:function(){i(b)},style:n.style,children:n.text})})}j.suspend();var v=n(12),O=[];[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1].forEach((function(t){1===t?O.push({id:O.length,value:t,className:"bars".concat(t),style:{position:"absolute",width:" 6px",height:" 80px",top:" 205px",background:" #cecece",left:"".concat(21*O.length+18,"px")}}):O.push({id:O.length,value:t,className:"bars".concat(t),style:{position:"absolute",width:" 6px",height:" 40px",top:" 225px",background:" #cecece",left:"".concat(21*O.length+18,"px")}})}));var S=O,w=[82.41,110,146.83,196,246.94,329.63],y=["E","A","D","G","B","E1"],A=function(t,e){var n,a,i=w.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})),s=w.indexOf(i),c=(n=i,a=t,1200*Math.log2(a/n)),r={},o=[],u=y[s];return e>.98&&t>50&&(h.map((function(t){t.id==u?o.push({id:u,text:u[0],className1:"outer",className2:"activeStrings"}):o.push(t)})),Math.abs(c)<5?r={instruction:"Congrats \ud83c\udf89",text:"You tuned the guitar!",className:"onAudioRight",cents:c}:c<-5?r={instruction:"Tighent the string a bit!",text:"Low",className:"onAudioWrong",cents:c}:c>5&&(r={instruction:"Loosen the string a bit!",text:"High",className:"onAudioWrong",cents:c})),{text:r,string:o,cents:c}};j.suspend();var k=function(){var t=Object(a.useState)({instruction:"",text:"",className:"onNull"}),e=Object(l.a)(t,2),n=e[0],i=e[1],s=Object(a.useState)(h),c=Object(l.a)(s,2),r=c[0],g=c[1],m=Object(a.useState)(S),f=Object(l.a)(m,2),b=f[0],O=(f[1],j.createAnalyser());function w(){return(w=Object(u.a)(o.a.mark((function t(){var e,n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:e=t.sent,j.createMediaStreamSource(e).connect(O),n=v.a.forFloat32Array(O.fftSize),a=new Float32Array(n.inputLength),s=function(){O.getFloatTimeDomainData(a);var t=n.findPitch(a,j.sampleRate),e=Object(l.a)(t,2),s=e[0],c=e[1],r=A(s,c);void 0!==r.text.instruction&&void 0!==r.text.text&&void 0!==r.text.className&&(i({className:r.text.className,text:r.text.text,instruction:r.text.instruction,cents:r.text.cents}),g(r.string))},window.setInterval((function(){return s()}),50);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"Tuner",id:"tuner",children:[Object(x.jsx)("div",{className:"heading",children:"Guitar Tuner"}),Object(x.jsx)(N,{}),r.map((function(t){return Object(x.jsx)(p,{id:t.id,text:t.text,className1:t.className1,className2:t.className2},t.id)})),b.map((function(t){return Object(x.jsx)("div",{className:t.className,id:t.id,style:t.style})})),Object(x.jsx)("div",{className:n.className,children:n.text}),Object(x.jsx)("div",{className:"onAudioInstruction",children:n.instruction}),Object(x.jsx)("div",{className:n.className,id:"cents",children:Math.round(n.cents)}),Object(x.jsx)("img",{className:"guitarImg",src:d,alt:"Guitar Icon"})]})};c.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.75a2e318.chunk.js.map